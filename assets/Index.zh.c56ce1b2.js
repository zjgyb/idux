import{j as n,v as s,o as a,e as t,h as o,y as l,A as c}from"./vendor.cd450518.js";var e={name:"Demosubject",components:{},setup(){const s=n(!1);return{goLink:n=>{window&&(window.location.hash=n)},expanded:s,expandAll:()=>{s.value=!s.value}}}};const p={class:"toc-wrapper"},u=o("a",{href:"#api",title:"API"},null,-1),i={class:"markdown header-wrapper"},k=c("Subject"),r=o("span",{class:"subtitle"},"观察者",-1),d={class:"edit-button","aria-label":"Edit this page on Github",href:"https://github.com/IduxFE/idux/edit/main/cdk/subject/docs/Index.zh.md",target:"_blank",rel:"noopener noreferrer"},m=o("section",{class:"markdown"},[o("h2",{id:"何时使用"},[o("span",null,"何时使用"),o("a",{onclick:"window.location.hash = '何时使用'",class:"anchor"},"#")])],-1),b=o("span",null,"代码演示",-1),h={class:"example-wrapper"},w=o("section",{class:"markdown api-wrapper"},[o("h2",{id:"api"},[o("span",null,"API"),o("a",{onclick:"window.location.hash = 'api'",class:"anchor"},"#")]),o("h3",{id:"subject"},[o("span",null,"Subject"),o("a",{onclick:"window.location.hash = 'subject'",class:"anchor"},"#")]),o("h4",{id:"params"},[o("span",null,"Params"),o("a",{onclick:"window.location.hash = 'params'",class:"anchor"},"#")]),o("table",null,[o("thead",null,[o("tr",null,[o("th",null,"名称"),o("th",null,"说明"),o("th",null,"类型"),o("th",null,"默认值"),o("th",null,"备注")])]),o("tbody",null,[o("tr",null,[o("td",null,[o("code",null,"T")]),o("td",null,"发布参数的类型"),o("td",null,[o("code",null,"T")]),o("td",null,[o("code",null,"void")]),o("td",null,"是一个泛型，起发布订阅参数类型保护")]),o("tr",null,[o("td",null,[o("code",null,"constructor")]),o("td",null,"-"),o("td",null,[o("code",null,"() => void")]),o("td",null,"-"),o("td",null,"-")]),o("tr",null,[o("td",null,[o("code",null,"dispatch")]),o("td",null,"发布事件"),o("td",null,[o("code",null,"(value: T) => void")]),o("td",null,"-"),o("td",null,"-")]),o("tr",null,[o("td",null,[o("code",null,"subscribe")]),o("td",null,"订阅事件"),o("td",null,[o("code",null,"(observer: Observer<T>) => Subscription")]),o("td",null,"-"),o("td",null,"订阅事件，利用闭包生成事件id，返回退订事件")]),o("tr",null,[o("td",null,[o("code",null,"unsubscribeAll")]),o("td",null,"退订所有事件"),o("td",null,[o("code",null,"() => void")]),o("td",null,"-"),o("td")])])]),o("pre",{class:"language-typescript"},[o("code",null,[o("span",{class:"token keyword"},"interface"),c(),o("span",{class:"token class-name"},[c("Observer"),o("span",{class:"token operator"},"<"),o("span",{class:"token constant"},"T"),o("span",{class:"token operator"},">")]),c(),o("span",{class:"token punctuation"},"{"),c("\n  "),o("span",{class:"token punctuation"},"("),c("value"),o("span",{class:"token operator"},":"),c(),o("span",{class:"token constant"},"T"),o("span",{class:"token punctuation"},")"),o("span",{class:"token operator"},":"),c(),o("span",{class:"token keyword"},"void"),c("\n"),o("span",{class:"token punctuation"},"}"),c("\n\n"),o("span",{class:"token keyword"},"interface"),c(),o("span",{class:"token class-name"},"Subscription"),c(),o("span",{class:"token punctuation"},"{"),c("\n  "),o("span",{class:"token function-variable function"},"unsubscribe"),o("span",{class:"token operator"},":"),c(),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},")"),c(),o("span",{class:"token operator"},"=>"),c(),o("span",{class:"token keyword"},"void"),c("\n"),o("span",{class:"token punctuation"},"}")])]),o("h2",{id:"demo"},[o("span",null,"DEMO"),o("a",{onclick:"window.location.hash = 'demo'",class:"anchor"},"#")]),o("pre",{class:"language-html"},[o("code",null,[o("span",{class:"token tag"},[o("span",{class:"token tag"},[o("span",{class:"token punctuation"},"<"),c("template")]),o("span",{class:"token punctuation"},">")]),c("\n  "),o("span",{class:"token tag"},[o("span",{class:"token tag"},[o("span",{class:"token punctuation"},"<"),c("div")]),c(),o("span",{class:"token punctuation"},"/>")]),c("\n"),o("span",{class:"token tag"},[o("span",{class:"token tag"},[o("span",{class:"token punctuation"},"</"),c("template")]),o("span",{class:"token punctuation"},">")]),c("\n\n"),o("span",{class:"token tag"},[o("span",{class:"token tag"},[o("span",{class:"token punctuation"},"<"),c("script")]),c(),o("span",{class:"token attr-name"},"lang"),o("span",{class:"token attr-value"},[o("span",{class:"token punctuation attr-equals"},"="),o("span",{class:"token punctuation"},'"'),c("ts"),o("span",{class:"token punctuation"},'"')]),o("span",{class:"token punctuation"},">")]),o("span",{class:"token script"},[o("span",{class:"token language-javascript"},[c("\n"),o("span",{class:"token keyword"},"import"),c(),o("span",{class:"token punctuation"},"{"),c(" defineComponent "),o("span",{class:"token punctuation"},"}"),c(),o("span",{class:"token keyword"},"from"),c(),o("span",{class:"token string"},"'vue'"),c("\n"),o("span",{class:"token keyword"},"import"),c(),o("span",{class:"token punctuation"},"{"),c(" Subject "),o("span",{class:"token punctuation"},"}"),c(),o("span",{class:"token keyword"},"from"),c(),o("span",{class:"token string"},"'@idux/cdk/subject'"),c("\n\n"),o("span",{class:"token keyword"},"export"),c(),o("span",{class:"token keyword"},"default"),c(),o("span",{class:"token function"},"defineComponent"),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},"{"),c("\n  "),o("span",{class:"token function"},"setup"),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},")"),c(),o("span",{class:"token punctuation"},"{"),c("\n    "),o("span",{class:"token keyword"},"const"),c(" subject1 "),o("span",{class:"token operator"},"="),c(),o("span",{class:"token keyword"},"new"),c(),o("span",{class:"token class-name"},"Subject"),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},")"),c("\n    subject1"),o("span",{class:"token punctuation"},"."),o("span",{class:"token function"},"subscribe"),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},")"),c(),o("span",{class:"token operator"},"=>"),c(),o("span",{class:"token punctuation"},"{"),c("\n      "),o("span",{class:"token comment"},"// 订阅"),c("\n    "),o("span",{class:"token punctuation"},"}"),o("span",{class:"token punctuation"},")"),c("\n\n    subject1"),o("span",{class:"token punctuation"},"."),o("span",{class:"token function"},"dispatch"),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},")"),c(),o("span",{class:"token comment"},"// 发布"),c("\n\n    "),o("span",{class:"token comment"},"/* Subject是一个泛型类 */"),c("\n    "),o("span",{class:"token keyword"},"const"),c(" subject2 "),o("span",{class:"token operator"},"="),c(),o("span",{class:"token keyword"},"new"),c(),o("span",{class:"token class-name"},"Subject"),o("span",{class:"token operator"},"<"),c("number"),o("span",{class:"token operator"},">"),o("span",{class:"token punctuation"},"("),o("span",{class:"token punctuation"},")"),c("\n\n    subject2"),o("span",{class:"token punctuation"},"."),o("span",{class:"token function"},"subscribe"),o("span",{class:"token punctuation"},"("),o("span",{class:"token parameter"},"value"),c(),o("span",{class:"token operator"},"=>"),c(),o("span",{class:"token punctuation"},"{"),c("\n      "),o("span",{class:"token comment"},"// value会被推导为number"),c("\n      console"),o("span",{class:"token punctuation"},"."),o("span",{class:"token function"},"log"),o("span",{class:"token punctuation"},"("),c("value"),o("span",{class:"token punctuation"},")"),c("\n    "),o("span",{class:"token punctuation"},"}"),o("span",{class:"token punctuation"},")"),c("\n\n    subject2"),o("span",{class:"token punctuation"},"."),o("span",{class:"token function"},"dispatch"),o("span",{class:"token punctuation"},"("),o("span",{class:"token number"},"100"),o("span",{class:"token punctuation"},")"),c(),o("span",{class:"token comment"},"// ts类型保护，传参必须为number"),c("\n  "),o("span",{class:"token punctuation"},"}"),o("span",{class:"token punctuation"},","),c("\n"),o("span",{class:"token punctuation"},"}"),o("span",{class:"token punctuation"},")"),c("\n")])]),o("span",{class:"token tag"},[o("span",{class:"token tag"},[o("span",{class:"token punctuation"},"</"),c("script")]),o("span",{class:"token punctuation"},">")])])])],-1);e.render=function(n,c,e,g,v,f){const j=s("ix-icon"),y=s("ix-col"),x=s("ix-row");return a(),t("article",null,[o("a",p,[o("a",{onClick:c[1]||(c[1]=n=>g.goLink(n))},[u])]),o("section",i,[o("h1",null,[k,r,o("a",d,[o(j,{name:"edit"})])]),m,o("h2",null,[b,o(j,{name:"appstore",class:"code-box-expand-trigger",title:"展开全部",onClick:c[2]||(c[2]=n=>g.expandAll())})])]),o("section",h,[o(x,{gutter:"16"},{default:l((()=>[o(y,{lg:"12",span:"24"}),o(y,{lg:"12",span:"24"})])),_:1})]),w])};export default e;
